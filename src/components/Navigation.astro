---
// components/Navigation.astro
---

<nav class="fixed top-0 left-0 w-full z-50 bg-black bg-opacity-80 backdrop-blur-md flex justify-between items-center p-4 md:px-8 transition-transform duration-300" id="navbar">
    <div class="text-white text-2xl font-bold">
        <a href="#">Histavi</a>
    </div>
    <div class="hidden md:flex space-x-6">
        <ul class="flex space-x-6">
            <li><a href="#home" class="text-gray-300 hover:text-white transition">Home</a></li>
            <li><a href="#about" class="text-gray-300 hover:text-white transition">About</a></li>
            <li><a href="#methodology" class="text-gray-300 hover:text-white transition">Methodology</a></li>
            <li><a href="#visualization" class="text-gray-300 hover:text-white transition">Visualization</a></li>
            <li><a href="#models" class="text-gray-300 hover:text-white transition">Models</a></li>
            <li><a href="#tools" class="text-gray-300 hover:text-white transition">Tools</a></li>
            <li><a href="#setup" class="text-gray-300 hover:text-white transition">Setup</a></li>
            <li><a href="#usage" class="text-gray-300 hover:text-white transition">Usage</a></li>            
        </ul>
    </div>
    <div class="md:hidden flex flex-col space-y-1 cursor-pointer hamburger">
        <span class="block w-6 h-0.5 bg-white transition"></span>
        <span class="block w-6 h-0.5 bg-white transition"></span>
        <span class="block w-6 h-0.5 bg-white transition"></span>
    </div>
</nav>

<div class="fixed top-0 left-0 pt-20 w-full h-screen bg-black bg-opacity-90 backdrop-blur-md text-center transition-all duration-300 transform translate-x-full md:hidden z-40 nav-links">
    <ul class="flex flex-col space-y-6 p-6">
        <li><a href="#home" class="text-white text-xl block py-2">Home</a></li>
        <li><a href="#about" class="text-white text-xl block py-2">About</a></li>
        <li><a href="#methodology" class="text-white text-xl block py-2">Methodology</a></li>
        <li><a href="#visualization" class="text-white text-xl block py-2">Visualization</a></li>
        <li><a href="#models" class="text-white text-xl block py-2">Models</a></li>
        <li><a href="#tools" class="text-white text-xl block py-2">Tools</a></li>
        <li><a href="#setup" class="text-white text-xl block py-2">Setup</a></li>
        <li><a href="#usage" class="text-white text-xl block py-2">Usage</a></li>
    </ul>
</div>

<script>
    document.addEventListener('DOMContentLoaded', () => {
        const hamburger = document.querySelector('.hamburger');
        const navLinks = document.querySelector('.nav-links');
        const navbar = document.querySelector('#navbar');

        hamburger?.addEventListener('click', () => {
            // Toggle the mobile menu
            navLinks?.classList.toggle('translate-x-full');
            navLinks?.classList.toggle('translate-x-0');
            
            // Optional: Animate hamburger to X
            hamburger.classList.toggle('menu-open');
        });

        document.querySelectorAll('.nav-links a').forEach(link => {
            link.addEventListener('click', () => {
                navLinks?.classList.remove('translate-x-0');
                navLinks?.classList.add('translate-x-full');
                hamburger?.classList.remove('menu-open');
            });
        });

        // Show/hide navbar based on scroll
        let lastScrollY = window.scrollY;
        
        window.addEventListener('scroll', () => {
            const currentScrollY = window.scrollY;
            
            // Show navbar when scrolling up or at the top
            if (currentScrollY <= 0 || currentScrollY < lastScrollY) {
                navbar?.classList.remove('-translate-y-full');
            } else {
                // Hide navbar when scrolling down and not at the top
                navbar?.classList.add('-translate-y-full');
            }
            
            lastScrollY = currentScrollY;
        });
    });
</script>

<style>
    /* Hamburger menu animation */
    .hamburger.menu-open span:first-child {
        transform: rotate(45deg) translate(5px, 5px);
    }
    
    .hamburger.menu-open span:nth-child(2) {
        opacity: 0;
    }
    
    .hamburger.menu-open span:last-child {
        transform: rotate(-45deg) translate(5px, -5px);
    }
</style>